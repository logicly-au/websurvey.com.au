/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.11
 *
 * Requires: jQuery 1.2.2+
 */
(function(k){k(jQuery);}(function(y){var B=['wheel','mousewheel','DOMMouseScroll','MozMousePixelScroll'],A=('onwheel' in document||document.documentMode>=9)?['wheel']:['mousewheel','DomMouseScroll','MozMousePixelScroll'],m=Array.prototype.slice,q,o;if(y.event.fixHooks){for(var t=B.length;t;){y.event.fixHooks[B[--t]]=y.event.mouseHooks;}}y.event.special.mousewheel={version:'3.1.6',setup:function(){if(this.addEventListener){for(var k=A.length;k;){this.addEventListener(A[--k],p,false);}}else{this.onmousewheel=p;}},teardown:function(){if(this.removeEventListener){for(var k=A.length;k;){this.removeEventListener(A[--k],p,false);}}else{this.onmousewheel=null;}}};y.fn.extend({mousewheel:function(k){return k?this.bind('mousewheel',k):this.trigger('mousewheel');},unmousewheel:function(k){return this.unbind('mousewheel',k);}});function p(k){var l=k||window.event,n=m.call(arguments,1),r=0,u=0,s=0,C=0;k=y.event.fix(l);k.type='mousewheel';if('detail' in l){s=l.detail*-1;}if('wheelDelta' in l){s=l.wheelDelta;}if('wheelDeltaY' in l){s=l.wheelDeltaY;}if('wheelDeltaX' in l){u=l.wheelDeltaX*-1;}if('axis' in l&&l.axis===l.HORIZONTAL_AXIS){u=s*-1;s=0;}r=s===0?u:s;if('deltaY' in l){s=l.deltaY*-1;r=s;}if('deltaX' in l){u=l.deltaX;if(s===0){r=u*-1;}}if(s===0&&u===0){return ;}C=Math.max(Math.abs(s),Math.abs(u));if(!o||C<o){o=C;}r=Math[r>=1?'floor':'ceil'](r/o);u=Math[u>=1?'floor':'ceil'](u/o);s=Math[s>=1?'floor':'ceil'](s/o);k.deltaX=u;k.deltaY=s;k.deltaFactor=o;n.unshift(k,r,u,s);if(q){clearTimeout(q);}q=setTimeout(v,200);return (y.event.dispatch||y.event.handle).apply(this,n);}function v(){o=null;}}));

/*
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function (b) {b.support.touch = "ontouchend" in document; if (!b.support.touch) { return; } var c = b.ui.mouse.prototype, e = c._mouseInit, a; function d(g, h) { if (g.originalEvent.touches.length > 1) { return; } g.preventDefault(); var i = g.originalEvent.changedTouches[0], f = document.createEvent("MouseEvents"); f.initMouseEvent(h, true, true, window, 1, i.screenX, i.screenY, i.clientX, i.clientY, false, false, false, false, 0, null); g.target.dispatchEvent(f); } c._touchStart = function (g) { var f = this; if (a || !f._mouseCapture(g.originalEvent.changedTouches[0])) { return; } a = true; f._touchMoved = false; d(g, "mouseover"); d(g, "mousemove"); d(g, "mousedown"); return false; }; c._touchMove = function (f) { if (!a) { return; } this._touchMoved = true; d(f, "mousemove"); return false;};c._touchEnd=function(f){if(!a){return;}d(f,"mouseup");d(f,"mouseout");if(!this._touchMoved){d(f,"click");}a=false;};c._mouseInit=function(){var f=this;f.element.bind("touchstart",b.proxy(f,"_touchStart")).bind("touchmove",b.proxy(f,"_touchMove")).bind("touchend",b.proxy(f,"_touchEnd"));e.call(f);};})(jQuery);

/**
 * Detect Element Resize Plugin for jQuery
 *
 * https://github.com/sdecima/javascript-detect-element-resize
 * Sebastian Decima
 *
 * version: 0.5
 **/
(function(l){var m=document.attachEvent,o=false,r=l.fn.resize;l.fn.resize=function(g){return this.each(function(){if(this==window)r.call(jQuery(this),g);else addResizeListener(this,g);});};l.fn.removeResize=function(g){return this.each(function(){removeResizeListener(this,g);});};if(!m){var p=(function(){var h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(g){return window.setTimeout(g,20);};return function(g){return h(g);};})(),v=(function(){var h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(g){return h(g);};})();function G(g){var h=g.__resizeTriggers__,i=h.firstElementChild,j=h.lastElementChild,k=i.firstElementChild;j.scrollLeft=j.scrollWidth;j.scrollTop=j.scrollHeight;k.style.width=i.offsetWidth+1+'px';k.style.height=i.offsetHeight+1+'px';i.scrollLeft=i.scrollWidth;i.scrollTop=i.scrollHeight;};function s(g){return g.offsetWidth!=g.__resizeLast__.width||g.offsetHeight!=g.__resizeLast__.height;};function F(h){var i=this;G(this);if(this.__resizeRAF__)v(this.__resizeRAF__);this.__resizeRAF__=p(function(){if(s(i)){i.__resizeLast__.width=i.offsetWidth;i.__resizeLast__.height=i.offsetHeight;i.__resizeListeners__.forEach(function(g){g.call(i,h);});}});};}function t(){if(!o){var g='.resize-triggers { visibility: hidden; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',h=document.head||document.getElementsByTagName('head')[0],i=document.createElement('style');i.type='text/css';if(i.styleSheet){i.styleSheet.cssText=g;}else{i.appendChild(document.createTextNode(g));}h.appendChild(i);}}window.addResizeListener=function(g,h){if(m)g.attachEvent('onresize',h);else{if(!g.__resizeTriggers__){if(getComputedStyle(g).position=='static')g.style.position='relative';t();g.__resizeLast__={};g.__resizeListeners__=[];(g.__resizeTriggers__=document.createElement('div')).className='resize-triggers';g.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div>'+'<div class="contract-trigger"></div>';g.appendChild(g.__resizeTriggers__);G(g);g.addEventListener('scroll',F,true);}g.__resizeListeners__.push(h);}};window.removeResizeListener=function(g,h){if(m)g.detachEvent('onresize',h);else{g.__resizeListeners__.splice(g.__resizeListeners__.indexOf(h),1);if(!g.__resizeListeners__.length){g.removeEventListener('scroll',F);g.__resizeTriggers__=!g.removeChild(g.__resizeTriggers__);}}};}(jQuery));

(function(y,B,A){var m=function(l){var n={text:'',start:0,end:0};if(!l.value){return n;}try{if(B.getSelection){n.start=l.selectionStart;n.end=l.selectionEnd;n.text=l.value.slice(n.start,n.end);}else if(A.selection){l.focus();var r=A.selection.createRange(),u=A.body.createTextRange(),s;n.text=r.text;try{u.moveToElementText(l);u.setEndPoint('StartToStart',r);}catch(k){u=l.createTextRange();u.setEndPoint('StartToStart',r);}n.start=l.value.length-u.text.length;n.end=n.start+r.text.length;}}catch(k){}return n;},q={getPos:function(k){var l=m(k);return {start:l.start,end:l.end};},setPos:function(l,n,r){r=this._caretMode(r);if(r=='start'){n.end=n.start;}else if(r=='end'){n.start=n.end;}l.focus();try{if(l.createTextRange){var u=l.createTextRange();if(B.navigator.userAgent.toLowerCase().indexOf("msie")>=0){n.start=l.value.substr(0,n.start).replace(/\r/g,'').length;n.end=l.value.substr(0,n.end).replace(/\r/g,'').length;}u.collapse(true);u.moveStart('character',n.start);u.moveEnd('character',n.end-n.start);u.select();}else if(l.setSelectionRange){l.setSelectionRange(n.start,n.end);}}catch(k){}},getText:function(k){return m(k).text;},_caretMode:function(k){k=k||"keep";if(k==false){k='end';}switch(k){case 'keep':case 'start':case 'end':break;default :k='keep';}return k;},replace:function(k,l,n){var r=m(k),u=k.value,s=y(k).scrollTop(),C={start:r.start,end:r.start+l.length};k.value=u.substr(0,r.start)+l+u.substr(r.end);y(k).scrollTop(s);this.setPos(k,C,n);},insertBefore:function(k,l,n){var r=m(k),u=k.value,s=y(k).scrollTop(),C={start:r.start+l.length,end:r.end+l.length};k.value=u.substr(0,r.start)+l+u.substr(r.start);y(k).scrollTop(s);this.setPos(k,C,n);},insertAfter:function(k,l,n){var r=m(k),u=k.value,s=y(k).scrollTop(),C={start:r.start,end:r.end};k.value=u.substr(0,r.end)+l+u.substr(r.end);y(k).scrollTop(s);this.setPos(k,C,n);}};y.extend({selection:function(l){var n=((l||'text').toLowerCase()=='text');try{if(B.getSelection){if(n){return B.getSelection().toString();}else{var r=B.getSelection(),u;if(r.getRangeAt){u=r.getRangeAt(0);}else{u=A.createRange();u.setStart(r.anchorNode,r.anchorOffset);u.setEnd(r.focusNode,r.focusOffset);}return y('<div></div>').append(u.cloneContents()).html();}}else if(A.selection){if(n){return A.selection.createRange().text;}else{return A.selection.createRange().htmlText;}}}catch(k){}return '';}});y.fn.extend({selection:function(k,l){l=l||{};switch(k){case 'getPos':return q.getPos(this[0]);break;case 'setPos':return this.each(function(){q.setPos(this,l);});break;case 'replace':return this.each(function(){q.replace(this,l.text,l.caret);});break;case 'insert':return this.each(function(){if(l.mode=='before'){q.insertBefore(this,l.text,l.caret);}else{q.insertAfter(this,l.text,l.caret);}});break;case 'get':default :return q.getText(this[0]);break;}return this;}});})(jQuery,window,window.document);
